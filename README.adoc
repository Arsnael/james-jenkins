= Immutable CI

== Summary

This project aims at describing our CI using jenkins DSL Plugin.

It starts Jenkins with Git and DSL Plugins, fetch a git repository to retrieve
the DSL configuration and finally make sure this DSL is run at start and
on every changes.

That way, you just have to write your jobs in `build-script` file and
your jenkins or any future jenkins will make them run.

== How to use it

To start a jenkins instance, you just have to do :

----
$docker build --tag myjenkins .
$docker run -d -p 8080:8080 -v $PWD/keys:/keys --name jks myjenkins
----

Where:

- +$PWD/keys:/keys+: Is the folder containing keys to connect your SWARM cluster. It should contain "ca.pem", "cert.pem", "key.pem".

Then, you can open it in your browser :

----
$firefox http://`docker inspect --format {{.NetworkSettings.IPAddress}} jks`:8080
----

